import{l as n,m as c,u as l,n as d,S as g,G as p}from"./index.bde435c7.js";import{s as y}from"./vendor.b5b01676.js";const m=o=>({type:c,data:o}),T=(o,a)=>s=>{l(o,a).then(e=>{console.log(e,"res");const{token:t}=e.data.data;if(t){localStorage.setItem("jwToken",t),d(t),console.log(t,"tototo");const r=y(t);console.log(r,"codeded"),s(E(r))}else throw Error("\u8D26\u53F7\u5BC6\u7801\u6216\u9519\u8BEF")}).catch(e=>{console.log(e,"errror"),s({type:p,payload:e.response.data})})},E=o=>({type:g,payload:o}),h=()=>o=>{n().then(a=>{o(m(a.data.data))}).catch(a=>{console.log("\u51FA\u9519\u4E86")})};export{h as g,T as l};
