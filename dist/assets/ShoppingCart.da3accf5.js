import{h as e,g as l,j as o,f as v,l as N}from"./vendor.0091d4a3.js";import{S,a as I}from"./loading.2306138e.js";import{s as f,a as G,e as D}from"./index.09481aae.js";import{R as B}from"./RecommendList.f8e6787f.js";var C="/assets/sub.52ccdf7b.png",A="/assets/add.c621a22e.png";const x=s=>e("div",{className:"navBar__container",children:e("div",{className:"navBar__container-title",children:"\u8D2D\u7269\u8F66"})});var y="/assets/enpty_cart.1276a6bb.png",F="/assets/selected.c4341689.png";const L=s=>{const{goodData:t={}}=s,[d,n]=l.exports.useState(1);let[a,c]=l.exports.useState(1);return o("div",{className:"selectedGoodsItem",children:[e("div",{className:"selectedGoodsItem__selectButton",children:e("div",{className:"isSelected",onClick:()=>n(!d),children:d?e("img",{src:F}):e("div",{className:"noSeleted"})})}),e("div",{className:"selectedGoodsItem__img",children:e("img",{src:t.imgsrc})}),o("div",{className:"selectedGoodsItem__goodsInfo",children:[o("div",{className:"selectedGoodsItem__goodsInfo_title",children:[t.tags.map(r=>e("div",{className:"tag",children:r},r)),t.title]}),e("div",{className:"selectedGoodsItem__goodsInfo_trade",children:t.tradeDescription}),o("div",{className:"selectedGoodsItem__goodsInfo_price",children:["\uFFE5",t.price]}),o("div",{className:"selectedGoodsItem__goodsInfo_buttom",children:[e("img",{src:C,className:"subButtom",onClick:()=>{c(--a)}}),e("div",{className:"goodsNum",children:a}),e("img",{src:A,className:"addButtom",onClick:()=>{c(++a)}})]})]})]})};const b=s=>{const{selectedGoodsData:t=[]}=s,{setCartInfo:d,goToShopping:n}=s;return e("div",{className:"GoodsList__container",children:t.length?e("div",{className:"container-goodsList",children:t.map((a,c)=>e(L,{goodData:a,changeCartInfo:d},c))}):o("div",{className:"container-empty_cart",children:[e("img",{src:y,className:"empty_cart__icon"}),e("div",{className:"empty_cart__desc",children:"\u60A8\u7684\u8D2D\u7269\u8F66\u8FD8\u662F\u7A7A\u7684\uFF0C\u5FEB\u53BB\u901B\u901B\u5427"}),e("div",{className:"empty_cart__button",onClick:()=>n(),children:"\u53BB\u901B\u901B"})]})})};const T=s=>{const{selectedGoods:t,totalAccount:d}=s;let[n,a]=l.exports.useState(1);const[c,r]=l.exports.useState([]),{getSelectedGoodsDisPatch:i,getTotalAccountDispatch:m}=s,u=N(),p=()=>{a(++n)},h=()=>{},g=async()=>{await D().then(_=>{r([...c,..._.data.data.list])})};return l.exports.useEffect(()=>{g()},[n]),o("div",{className:"cart__container",children:[e(x,{}),e(S,{direction:"vertical",refresh:!1,pullUp:p,pullDown:h,onScroll:()=>{I()},children:o("div",{children:[e(b,{selectedGoodsData:t,setCartInfo:i,goToShopping:()=>u.push("/home/main")}),e(B,{recommendList:c,selectedGoods:t,totalAccount:d,setCartInfo:i,setTotalAccount:m})]})})]})},j=s=>({selectedGoods:s.main.selectedGoods,totalAccount:s.main.totalAccount}),P=s=>({getSelectedGoodsDisPatch(t){s(f(t))},getTotalAccountDispatch(t){s(G(t))}});var w=v(j,P)(l.exports.memo(T));export{w as default};
