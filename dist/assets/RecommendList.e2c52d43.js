import{f,u as D,j as n,h as c}from"./vendor.23ef3ccf.js";import{_ as v,l as A,S,A as C,f as T,u as b,a as j,b as L}from"./add.67884297.js";import{s as k,b as F,c as P,d as R,a as x}from"./index.114a8bc7.js";const E=t=>{let{goodData:e,selectedGoods:i,totalAccount:d,compressedData:a,totalNum:o,isSelected:m}=t;const{setCompressedData:p,setCartInfo:N,setTotalAccount:u,setTotalNum:_,setIsSelected:I}=t,h=D(),l=(s,r)=>{r>0?(a[s.id]=a[s.id]>0?a[s.id]+1:1,m[s.id]=m[s.id]?m[s.id]:!0,u(T(d,r)),_(o+1),i=b([s,...i])):(a[s.id]=a[s.id]>0?a[s.id]-1:1,a[s.id]==0&&(delete a[s.id],delete m[s.id],i=j(s,i)),u(L(d,-r)),_(o-1)),m=a,I(m),p(a),N(i)};return n("div",{className:"listItem__container",children:[c("div",{className:"listItem__container__pic",children:c(v,{height:140,placeholder:c("img",{height:"100%",width:"100%",src:A}),children:c("img",{src:e.imgsrc,onClick:()=>h.push(`/detail/${e.id}`)})})}),n("div",{className:"listItem__container__desc",children:[n("div",{className:"listItem__container__desc_title",onClick:()=>h.push(`/detail/${e.id}`),children:[e.tags.map(s=>c("div",{className:"title-tags",children:s},s)),e.title]}),c("span",{className:"listItem__container__desc_tradeDescription",children:e.tradeDescription}),n("div",{className:"listItem__container__desc_numOfPerson",children:["\u9644\u8FD1",e.numOfPersonPurchased,"\u4EBA\u5DF2\u4E0B\u5355"]}),n("div",{className:"listItem__container__desc_price",children:["\uFFE5",e.price]}),a[e.id]>0?n("div",{className:"recommend__oprateNum",children:[c("img",{src:S,className:"recommend__subNum",onClick:()=>l(e,-e.price)}),c("span",{className:"recommend__goodsNum",children:a[e.id]}),c("img",{src:C,className:"recommend__addNum",onClick:()=>l(e,e.price)})]}):c("div",{className:"listItem__container__desc_buttom",onClick:()=>l(e,e.price),children:"\u52A0\u5165\u8D2D\u7269\u8F66"})]})]})},G=t=>({selectedGoods:t.main.selectedGoods,totalAccount:t.main.totalAccount,compressedData:t.main.compressedData,isSelected:t.main.isSelected,totalNum:t.main.totalNum}),$=t=>({setCompressedData(e){t(k(e))},setCartInfo(e){t(F(e))},setTotalAccount(e){t(P(e))},setTotalNum(e){t(R(e))},setIsSelected(e){t(x(e))}});var g=f(G,$)(E);const q=t=>{const{recommendList:e=[]}=t;return n("div",{className:"recommend__container",children:[c("div",{className:"recommend__container_title",children:"--\u3000\u7206\u6B3E\u63A8\u8350\u3000--"}),e.length?e.map((i,d)=>c(g,{goodData:i},d)):""]})};export{q as R};
