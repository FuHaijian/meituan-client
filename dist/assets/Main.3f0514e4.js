import{h as e,j as t,g as l,f as x,u as f}from"./vendor.23ef3ccf.js";import{_ as M,l as P,S as y,A as Q,f as F,u as R,a as G,b as T,c as O,d as k}from"./add.67884297.js";import{s as H,a as V,b as j,c as X,d as _,g as L,r as Z}from"./index.114a8bc7.js";import{S as Y}from"./swiper.min.9cab8f8d.js";import{N as K}from"./news.ddd16e4e.js";import{S as q}from"./search.e6d63ef2.js";import{s as E}from"./styled-components.browser.esm.ec6bb831.js";import{S as z}from"./ShoppingCartComponent.215d8308.js";const v=s=>{const{menuBarData:a=[]}=s,r=i=>{};return e("div",{className:"menu-item__box",children:a.map((i,n)=>t("div",{className:"item-box",onClick:()=>{r(`${i.type}`)},children:[e("img",{src:i.picUrl,alt:"",className:"item-box__img"}),e("div",{className:"item-box__text",children:i.type})]},n))})};const W=s=>{const{menuBarData:a={}}=s;return l.exports.useEffect(()=>{new Y(".swiper",{direction:"horizontal",scrollbar:{el:".swiper-scrollbar"}})},[]),e("div",{className:"swiper-bg",children:e("div",{className:"swiper-region",children:t("div",{className:"swiper",children:[t("div",{className:"swiper-wrapper",children:[t("div",{className:"swiper-slide",children:[e(v,{menuBarData:a.list1}),e(v,{menuBarData:a.list2})]}),t("div",{className:"swiper-slide",children:[e(v,{menuBarData:a.list3}),e(v,{menuBarData:a.list4})]})]}),e("div",{className:"swiper-scrollbar"})]})})})};const w=s=>{const{goToSearch:a,navBarFixed:r}=s;return t("div",{className:r?"navBar navBar-fixed":"navBar",children:[e("div",{className:"navBar__proName",children:"\u7F8E\u56E2\u4F18\u9009"}),t("div",{className:"navBar__search",onClick:()=>a(),children:[e("img",{src:q}),e("div",{className:"navBar__search-recommend",children:"\u738B\u8001\u5409"})]}),e("div",{className:"navBar__news",children:e("img",{src:K})})]})};E.div`
    background-color: #343334;
    width: 120px;
    height: 50px;
    color: #fff;
    font-size: 14px;
    font-weight: 700;
    line-height: 50;
    text-align: center;
    border-radius: 10px;
    display: fixed;
    top: 50%;
    left: 50%;
    z-index: 50;
`;const J=s=>{let{good:a={},index:r,selectedGoods:i,totalAccount:n,compressedData:c,totalNum:A,isSelected:d}=s;const{goToDetail:N,setCompressedData:C,setIsSelected:p,setCartInfo:I,setTotalAccount:u,setTotalNum:g}=s,D=f(),m=(o,h)=>{h>0?(c[o.id]=c[o.id]>0?c[o.id]+1:1,d[o.id]=d[o.id]?d[o.id]:!0,u(F(n,h)),g(A+1),i=R([o,...i])):(c[o.id]=c[o.id]>0?c[o.id]-1:1,c[o.id]==0&&(delete c[o.id],delete d[o.id],i=G(o,i)),u(T(n,-h)),g(A-1)),d=c,p(d),C(c),I(i)};return t("div",{className:(r+1)%2==0?"right-card":"left-card",children:[e(M,{height:100,placeholder:e("img",{height:"100%",width:"100%",src:P}),children:e("img",{src:a.imgsrc,onClick:()=>D.push(`/detail/${a.id}`)})}),t("div",{className:"card__description",children:[t("div",{className:"description__title",onClick:()=>N(a.id),children:[a.tags.map(o=>e("div",{className:"description__title-tags",children:o},r+Math.random()*1e3)),a.title]}),e("div",{className:"description__tradeDescription",children:a.tradeDescription}),e("div",{className:"description__price",children:`\uFFE5${a.price}`}),c[a.id]>0?t("div",{className:"oprateNum",children:[e("img",{src:y,className:"subNum",onClick:()=>m(a,-a.price)}),e("span",{className:"goodsNum",children:c[a.id]}),e("img",{src:Q,className:"addNum",onClick:()=>m(a,a.price)})]}):e("div",{className:"description__button",onClick:()=>{m(a,a.price)},children:"\u52A0\u5165\u8D2D\u7269\u8F66"})]})]})},$=s=>({selectedGoods:s.main.selectedGoods,totalAccount:s.main.totalAccount,compressedData:s.main.compressedData,totalNum:s.main.totalNum,isSelected:s.main.isSelected}),ee=s=>({setCompressedData(a){s(H(a))},setIsSelected(a){s(V(a))},setCartInfo(a){s(j(a))},setTotalAccount(a){s(X(a))},setTotalNum(a){s(_(a))}});var ae=x($,ee)(J);const se=s=>{const{GoodsListData:a=[]}=s;return e("div",{className:"goodsList__container",children:a.map((r,i)=>e(ae,{good:r,index:i},i))})};var ie="/assets/time.704ebdb8.png";const te=E.div`
    height 15px;
    background-color #fdf2bf;
    font-size 10px;
    color #ff190c;
    font-weight 700;
    display inline;
    padding 0 2px;
    border-radius 5px;
    position absolute;
`,U=s=>{const{bottom:a,left:r,price:i}=s;return t(te,{style:{bottom:`${a}px`,left:`${r}px`},children:["\uFFE5",i]})};const ce=s=>{const{SnapUpGoodsData:a={}}=s,r=a.goods?a.goods:[];return t("div",{className:"snapUpGoods-container",children:[t("div",{className:"container__desc",children:[e("div",{className:"container__desc-title",children:a.title}),e("div",{className:"container__desc-time",children:a.time}),e("div",{className:"container__desc-icon",children:e("img",{src:ie})})]}),e("div",{className:"container__goodsList",children:r.map(i=>t("div",{className:"container__goodsList-item",children:[e("img",{src:i.imgsrc}),e(U,{price:i.price,bottom:0,left:10})]},i.id))})]})};var re="data:image/png;base64,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";const S=s=>{const{activity:a={}}=s,{goods:r=[]}=a;return t("div",{className:"activity__container",children:[t("div",{className:"activity__header",children:[a.title,t("div",{className:"icon-desc",children:[e("img",{src:re}),e("div",{className:"desc",children:a.icon_desc})]})]}),e("div",{className:"activity__goods",children:r.map(i=>t("div",{className:"activity__goods__item",children:[e("img",{className:"item__img",src:i.imgsrc,alt:""}),e(U,{price:i.price,bottom:-8,left:15})]},i.id))})]})};const oe=s=>{const{SpecialGoodsData:a={}}=s;return t("div",{className:"SpecialGoods",children:[e(S,{activity:a.activity1}),e(S,{activity:a.activity2})]})};const ne=s=>{const{menuBarData:a=[],menuBarFixed:r}=s,i=f(),n=c=>{i.push(`/home/classify/${c}`)};return e("div",{className:r?"menuBar menuBar-fixed":"menuBar",children:e("div",{children:e("div",{className:"menuBar__container",children:a.map(c=>t("div",{className:"menuBar__item",onClick:()=>n(c.type),children:[e("img",{src:c.picUrl}),e("div",{className:"menuBar__item__desc",children:c.title})]},c.type))})})})};const de=s=>{const{mainData:a}=s,{menuBarData:r={list1:[],list2:[],list4:[]},specialGoodsData:i,SnapUpGoodsData:n,menuBar_TopData:c}=a;let[A,d]=l.exports.useState(1);const[N,C]=l.exports.useState([]),[p,I]=l.exports.useState(!1),[u,g]=l.exports.useState(!1),{getMainDataDispatch:D}=s,m=f(),o=()=>{Z(A).then(B=>{C([...N,...B.data.data.list])})},h=()=>{d(++A)},b=()=>{};return l.exports.useEffect(()=>{a.length||D()},[]),l.exports.useEffect(()=>{o()},[A]),t("div",{className:"main",children:[e(O,{direction:"vertical",refresh:!1,pullUp:h,pullDown:b,onScroll:B=>{B.y<-30?I(!0):I(!1),B.y<-100?g(!0):g(!1),k()},children:t("div",{children:[e(w,{goToSearch:()=>m.push("/search"),navBarFixed:p}),e(W,{menuBarData:r}),t("div",{className:"main-padding",children:[e(ce,{SnapUpGoodsData:n}),e(oe,{SpecialGoodsData:i}),e(se,{GoodsListData:N})]})]})}),e("div",{style:p?{display:""}:{display:"none"},children:e(w,{goToSearch:()=>m.push("/search"),navBarFixed:p})}),e("div",{style:u?{display:""}:{display:"none"},children:e(ne,{menuBarData:c,menuBarFixed:u})}),e(z,{})]})},le=s=>({mainData:s.main.maindata}),Ae=s=>({getMainDataDispatch(){s(L())}});var ve=x(le,Ae)(de);export{ve as default};
